<%  @component = Component.find(params[:id])
    @template = ::Template.find(params[:template])
    @site = Site.find(params[:site])





%>

  <div class="row">
		<div class="col-sm-3">

      <%= render "siteMap" %>


			<h3>Notes</h3>

      <!-- Display Component relationships -->
            <p>Component: <br><%= @component.name %>
              <p>Template: <br><%= link_to @template.name, templatedetail_path(:id => @template.id, :site => @site.id ) %>
                  <p>Site: <br><%= link_to @site.name, templatelist_path(:id => @site.id) %>

		</div>
		<div class="col-sm-9">
			<h1>Component</h1>


<!-- Component guidelines -->
      <div class="card">
        <div class="card-header">
          <h3><%= @component.name %> <% if @component.componenttype_id == 1 %>
                    <span class="badge badge-light">Existing</span>
                  <% else %>
                  <% end %>
                  <% if @component.componenttype_id == 2 %>
                    <span class="badge badge-light">Existing->Update</span>
                  <% else %>
                  <% end %></h3>
        </div>
        <div class="card-body">
          <span class="badge badge-secondary" style="margin-bottom: 20px;">Component Text Elements</span><br>
          <%# @pagetext = TextItem.order(:order).where ({page_id: nil , component_id: @component.id}) %>
          <% @component.text_items.each do |textitem| %>
            <<%= textitem.text.name %>><%= textitem.name %></<%= textitem.text.name %>>
          <% end %>
          <% @pagetext = TextItem.order(:order).where component_id: @component.id %>
            <% @pagetext.each do |pagetextitem| %>
                  <<%= pagetextitem.text.name %>>
                  <a href="#" style="color: #666;" data-toggle="tooltip" data-placement="top" title="<%= pagetextitem.name %>"><%= pagetextitem.itemtext %></a>
                  </<%= pagetextitem.text.name %>>
            <% end %>


          <table class="table table-hover" style="margin-top:30px;">
            <thead>
              <tr>
                <th scope="col">Attribute</th>
                <th scope="col">Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td scope="row">Tag Groups</td>
                <td><% if @component.is_taggable == true %><i><%= c.tag_groups %></i><% else %><i>No tag groups will display.</i><% end %></td>
              </tr>
              <tr>
                <td scope="row">Personalization</td>
                <td><% if @component.ispersonalized == true %><i><%= c.personalization_rules %></i><% else %><i>No personalization on this component.</i><% end %></td>
              </tr>
              <tr>
                <td scope="row">Goal</td>
                <td><i><%= @component.goal %></i></td>
              </tr>
              <tr>
                <td scope="row">Description</td>
                <td><i><%= @component.description %></i></td>
              </tr>
              <tr>
                <td scope="row">CTA</td>
                <td><i><%= @component.cta %></i></td>
              </tr>
              <tr>
                <td scope="row">Content Assets</td>
                <td><i><%= @component.content_assets %></i></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>


		</div>
	</div>
  	<hr>
  <div class="row">
    <div class="col-sm">

              <%= render "footer" %>

    </div>
  </div>
